{"map":"{\"version\":3,\"sources\":[\"webpack/bootstrap\",\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\movie\\\\src\\\\index.js\",\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\movie\\\\src\\\\page\\\\page.js\",\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\movie\\\\src\\\\top250\\\\top250.js\",\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\movie\\\\src\\\\usbox\\\\usbox.js\",\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\movie\\\\src\\\\search\\\\search.js\"],\"names\":[\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"modules\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"Paging\",\"Top250\",\"Usbox\",\"Search\",\"init\",\"App\",\"$\",\"this\",\"$tabs\",\"$pages\",\"show\",\"me\",\"on\",\"$this\",\"index\",\"addClass\",\"siblings\",\"removeClass\",\"eq\",\"fadeIn\",\"fadeOut\",\"startNum\",\"count\",\"isloading\",\"isfinished\",\"$contain\",\"$container\",\"find\",\"getData\",\"renderData\",\"clock\",\"clearTimeout\",\"setTimeout\",\"isToBottom\",\"data\",\"total\",\"callback\",\"ajax\",\"type\",\"url\",\"start\",\"dataType\",\"done\",\"res\",\"always\",\"hide\",\"height\",\"scrollTop\",\"subjects\",\"forEach\",\"movie\",\"$node\",\"attr\",\"images\",\"medium\",\"alt\",\"text\",\"title\",\"rating\",\"average\",\"collect_count\",\"directors\",\"map\",\"v\",\"join\",\"casts\",\"year\",\"genres\",\"append\",\"fail\",\"console\",\"log\",\"mo\",\"subject\",\"e\",\"keyword\",\"val\",\"q\"],\"mappings\":\"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\",\"sourcesContent\":[\" \\t// The module cache\\n \\tvar installedModules = {};\\n\\n \\t// The require function\\n \\tfunction __webpack_require__(moduleId) {\\n\\n \\t\\t// Check if module is in cache\\n \\t\\tif(installedModules[moduleId]) {\\n \\t\\t\\treturn installedModules[moduleId].exports;\\n \\t\\t}\\n \\t\\t// Create a new module (and put it into the cache)\\n \\t\\tvar module = installedModules[moduleId] = {\\n \\t\\t\\ti: moduleId,\\n \\t\\t\\tl: false,\\n \\t\\t\\texports: {}\\n \\t\\t};\\n\\n \\t\\t// Execute the module function\\n \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n\\n \\t\\t// Flag the module as loaded\\n \\t\\tmodule.l = true;\\n\\n \\t\\t// Return the exports of the module\\n \\t\\treturn module.exports;\\n \\t}\\n\\n\\n \\t// expose the modules object (__webpack_modules__)\\n \\t__webpack_require__.m = modules;\\n\\n \\t// expose the module cache\\n \\t__webpack_require__.c = installedModules;\\n\\n \\t// define getter function for harmony exports\\n \\t__webpack_require__.d = function(exports, name, getter) {\\n \\t\\tif(!__webpack_require__.o(exports, name)) {\\n \\t\\t\\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\\n \\t\\t}\\n \\t};\\n\\n \\t// define __esModule on exports\\n \\t__webpack_require__.r = function(exports) {\\n \\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n \\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n \\t\\t}\\n \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n \\t};\\n\\n \\t// create a fake namespace object\\n \\t// mode & 1: value is a module id, require it\\n \\t// mode & 2: merge all properties of value into the ns\\n \\t// mode & 4: return value when already ns object\\n \\t// mode & 8|1: behave like require\\n \\t__webpack_require__.t = function(value, mode) {\\n \\t\\tif(mode & 1) value = __webpack_require__(value);\\n \\t\\tif(mode & 8) return value;\\n \\t\\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\\n \\t\\tvar ns = Object.create(null);\\n \\t\\t__webpack_require__.r(ns);\\n \\t\\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\\n \\t\\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\\n \\t\\treturn ns;\\n \\t};\\n\\n \\t// getDefaultExport function for compatibility with non-harmony modules\\n \\t__webpack_require__.n = function(module) {\\n \\t\\tvar getter = module && module.__esModule ?\\n \\t\\t\\tfunction getDefault() { return module['default']; } :\\n \\t\\t\\tfunction getModuleExports() { return module; };\\n \\t\\t__webpack_require__.d(getter, 'a', getter);\\n \\t\\treturn getter;\\n \\t};\\n\\n \\t// Object.prototype.hasOwnProperty.call\\n \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n\\n \\t// __webpack_public_path__\\n \\t__webpack_require__.p = \\\"\\\";\\n\\n\\n \\t// Load entry module and return exports\\n \\treturn __webpack_require__(__webpack_require__.s = 0);\\n\",\"var Paging = require('./page/page.js');\\r\\nvar Top250 =require('./top250/top250.js');\\r\\nvar Usbox = require('./usbox/usbox.js');\\r\\nvar Search = require('./search/search.js');\\r\\n;\\r\\n\\r\\nvar App = {\\r\\n    init: function(){\\r\\n      Paging.init()\\r\\n      Top250.init()\\r\\n      Usbox.init()\\r\\n      Search.init()\\r\\n    },\\r\\n  }\\r\\n  App.init()\",\"var Paging = {\\r\\n    init: function(){\\r\\n      this.$tabs = $('footer>div')\\r\\n      this.$pages = $('main>section')\\r\\n      this.bind()\\r\\n      $('.loading').show()\\r\\n    },\\r\\n    bind: function(){\\r\\n      var me = this\\r\\n      //绑定事件\\r\\n      this.$tabs.on('click',function(){\\r\\n        var $this = $(this)\\r\\n        var index  = $this.index()\\r\\n        $this.addClass('active').siblings().removeClass('active')\\r\\n        me.$pages.eq(index).fadeIn().siblings().fadeOut()\\r\\n      })\\r\\n    }\\r\\n}\\r\\nmodule.exports = Paging\",\"var Top250 = {\\r\\n    startNum  : 0,\\r\\n    count :  10,\\r\\n    isloading : false,\\r\\n    isfinished  : false,\\r\\n    init: function(){\\r\\n      var me = this\\r\\n      this.$contain = $('#top250'),\\r\\n      this.$container = this.$contain.find('.container')\\r\\n      this.bind()\\r\\n      this.getData(me.renderData)\\r\\n    },\\r\\n    bind: function(){\\r\\n      var me = this\\r\\n      this.$contain.on('scroll',function(){\\r\\n        if(me.clock) {\\r\\n          clearTimeout(me.clock)\\r\\n        }\\r\\n        me.clock = setTimeout(function(){\\r\\n          //console.log('scroll')\\r\\n          if(me.isToBottom() && !me.isfinished){\\r\\n            //console.log('bottom')\\r\\n            me.getData(function(data){\\r\\n              me.renderData(data)\\r\\n              if(me.startNum * me.count >= data.total){\\r\\n                me.isfinished = true\\r\\n                me.$contain.find('.nomore').show()\\r\\n              }\\r\\n            })\\r\\n          }\\r\\n        },100)\\r\\n      })\\r\\n    },\\r\\n    getData: function(callback){\\r\\n      var me = this\\r\\n      if(me.isloading) return\\r\\n      me.isloading = true\\r\\n      $('.loading').show()\\r\\n      $.ajax({\\r\\n        type: 'GET',\\r\\n        url: 'https://api.douban.com/v2/movie/top250',\\r\\n        data: {\\r\\n          start: me.startNum * me.count,\\r\\n          count: me.count,\\r\\n        },\\r\\n        dataType: 'jsonp'\\r\\n      }).done(function(res){\\r\\n        //console.log(res)\\r\\n        callback(res)\\r\\n        me.startNum++\\r\\n        //console.log('startNum ---'+ me.startNum)\\r\\n      }).always(function(){\\r\\n        //console.log('done')\\r\\n        $('.loading').hide()\\r\\n        me.isloading = false\\r\\n      })\\r\\n    },\\r\\n    isToBottom : function(){\\r\\n      return  this.$contain.height() + this.$contain.scrollTop() +30  >= this.$container.height()\\r\\n    },\\r\\n    renderData: function(data){\\r\\n      var me = this\\r\\n      //console.log(data)\\r\\n      data.subjects.forEach(function(movie){\\r\\n        //console.log(movie)\\r\\n        var tpl = `<div class=\\\"item\\\">\\r\\n            <a href=\\\"#\\\">\\r\\n              <div class=\\\"cover\\\">\\r\\n                <img src=\\\"http://img7.doubanio.com/view/photo/s_ratio_poster/public/p1910813120.jpg\\\" alt=\\\"\\\">\\r\\n              </div>\\r\\n              <div class=\\\"detail\\\">\\r\\n                <h2>霸王别姬</h2>\\r\\n                <div class=\\\"extra\\\"><span class=\\\"score\\\"></span><span>分</span> / <span class=\\\"collect\\\">1000</span><span>收藏</span></div>\\r\\n                <div class=\\\"extra\\\"><span class=\\\"year\\\"></span> / <span class=\\\"genres\\\"></span></div>\\r\\n                <div class=\\\"extra\\\">导演:<span class=\\\"director\\\"></span></div>\\r\\n                <div class=\\\"extra\\\">主演: <span class=\\\"casts\\\"></span></div>\\r\\n              </div>\\r\\n            </a>\\r\\n          </div>`\\r\\n        var $node = $(tpl)\\r\\n        $node.find('.cover img').attr('src',movie.images.medium)\\r\\n        $node.find('.itme>a').attr('href',movie.alt)\\r\\n        $node.find('.detail>h2').text(movie.title)\\r\\n        $node.find('.score').text(movie.rating.average)\\r\\n        $node.find('.collect').text(movie.collect_count)\\r\\n        $node.find('.director').text(movie.directors.map(v=>v.name).join('/'))\\r\\n        $node.find('.casts').text(movie.casts.map(v=>v.name).join('、'))\\r\\n        $node.find('.year').text(movie.year)\\r\\n        $node.find('.genres').text(movie.genres.join('、'))\\r\\n        //console.log(movie.genres)\\r\\n        $('#top250 .container').append($node)\\r\\n      })\\r\\n    },\\r\\n}\\r\\n\\r\\nmodule.exports = Top250\\r\\n\",\"var Usbox = {\\r\\n    init: function(){\\r\\n      //this.bind()\\r\\n      this.getData(this.renderData)\\r\\n    },\\r\\n    getData: function(callback){\\r\\n      var me = this\\r\\n      $.ajax({\\r\\n        type: 'GET',\\r\\n        url: 'https://api.douban.com/v2/movie/us_box',\\r\\n        dataType: 'jsonp'\\r\\n      }).done(function(res){\\r\\n        //console.log(res)\\r\\n        callback(res)\\r\\n        //console.log('startNum ---'+ me.startNum)\\r\\n      }).fail(function(){\\r\\n        console.log('err')\\r\\n      }).always(function(){\\r\\n        //console.log('done')\\r\\n      })\\r\\n    },\\r\\n    renderData: function(data){\\r\\n      //console.log(data)\\r\\n      data.subjects.forEach(function(movie){\\r\\n        var mo = movie.subject\\r\\n        //console.log(movie)\\r\\n        var tpl = `<div class=\\\"item\\\">\\r\\n            <a href=\\\"#\\\">\\r\\n              <div class=\\\"cover\\\">\\r\\n                <img src=\\\"http://img7.doubanio.com/view/photo/s_ratio_poster/public/p1910813120.jpg\\\" alt=\\\"\\\">\\r\\n              </div>\\r\\n              <div class=\\\"detail\\\">\\r\\n                <h2>霸王别姬</h2>\\r\\n                <div class=\\\"extra\\\"><span class=\\\"score\\\"></span><span>分</span> / <span class=\\\"collect\\\">1000</span><span>收藏</span></div>\\r\\n                <div class=\\\"extra\\\"><span class=\\\"year\\\"></span> / <span class=\\\"genres\\\"></span></div>\\r\\n                <div class=\\\"extra\\\">导演:<span class=\\\"director\\\"></span></div>\\r\\n                <div class=\\\"extra\\\">主演: <span class=\\\"casts\\\"></span></div>\\r\\n              </div>\\r\\n            </a>\\r\\n          </div>`\\r\\n        var $node = $(tpl)\\r\\n        $node.find('.cover img').attr('src',mo.images.medium)\\r\\n        $node.find('.itme>a').attr('href',mo.alt)\\r\\n        $node.find('.detail>h2').text(mo.title)\\r\\n        $node.find('.score').text(mo.rating.average)\\r\\n        $node.find('.collect').text(mo.collect_count)\\r\\n        $node.find('.director').text(mo.directors.map(v=>v.name).join('/'))\\r\\n        $node.find('.casts').text(mo.casts.map(v=>v.name).join('、'))\\r\\n        $node.find('.year').text(mo.year)\\r\\n        $node.find('.genres').text(mo.genres.join('、'))\\r\\n        //console.log(movie.genres)\\r\\n        $('#beimei div.container').append($node)\\r\\n      })\\r\\n    },\\r\\n}\\r\\n\\r\\nmodule.exports = Usbox\",\"var Search = {\\r\\n    startNum:0,\\r\\n    count:10,\\r\\n    isloading : false,\\r\\n    isfinished  : false,\\r\\n    init:function(){\\r\\n      this.$contain = $('#search'),\\r\\n      this.$container = this.$contain.find('.container')\\r\\n      //this.keyword = this.$contain.find('input').val()\\r\\n      this.bind()\\r\\n    },\\r\\n    bind:function(){\\r\\n      var me  =  this\\r\\n      //输入获取val\\r\\n      // me.$contain.find('input').on('keyup',function(){\\r\\n      //   //console.log('keyup')\\r\\n      //   me.keyword = $(this).val()\\r\\n      // })\\r\\n  \\r\\n      me.$contain.find('input').on('keyup',function(e){\\r\\n          me.keyword = $(this).val()\\r\\n          if(e.key ===\\\"Enter\\\"){\\r\\n             //每次重置搜索内容为空\\r\\n              me.$container.text('') \\r\\n              me.getData(function(data){\\r\\n                  me.renderData(data)\\r\\n              })\\r\\n          }\\r\\n      })\\r\\n  \\r\\n      //点击加载数据\\r\\n      me.$contain.find('.button').on('click',function(){\\r\\n        //console.log('click')\\r\\n        //每次重置搜索内容为空\\r\\n        me.$container.text('')\\r\\n  \\r\\n        me.getData(function(data){\\r\\n            me.renderData(data)\\r\\n        })\\r\\n      })\\r\\n      \\r\\n      //滚动加载\\r\\n      this.$contain.on('scroll',function(){\\r\\n        //console.log('scroll')\\r\\n        if(me.clock) {\\r\\n          clearTimeout(me.clock)\\r\\n        }\\r\\n        me.clock = setTimeout(function(){\\r\\n          //console.log('scroll')\\r\\n          if(me.isToBottom() && !me.isfinished){\\r\\n            //console.log('bottom')\\r\\n            me.getData(function(data){\\r\\n              me.renderData(data)\\r\\n              if(me.startNum * me.count >= data.total){\\r\\n                me.isfinished = true\\r\\n                me.$contain.find('.nomore').show()\\r\\n              }\\r\\n            })\\r\\n          }\\r\\n        },100)\\r\\n       })\\r\\n      \\r\\n    },\\r\\n    getData:function(callback){\\r\\n      var me = this\\r\\n      var keyword = me.$contain.find('input').val()\\r\\n      if(me.isloading) return\\r\\n      me.isloading = true\\r\\n      $('.loading').show()\\r\\n      $.ajax({\\r\\n        type : 'GET',\\r\\n        url :'https://api.douban.com/v2/movie/search',\\r\\n        data : {\\r\\n          start:me.startNum * me.count,\\r\\n          count: me.count,\\r\\n          q:  keyword,\\r\\n        },\\r\\n        dataType : 'jsonp'\\r\\n      }).done(function(res){\\r\\n        //console.log(res)\\r\\n        callback(res)\\r\\n        me.startNum++\\r\\n        //console.log('startNum ---'+ me.startNum)\\r\\n      }).always(function(){\\r\\n        //console.log('done')\\r\\n        $('.loading').hide()\\r\\n        me.isloading = false\\r\\n        \\r\\n      })\\r\\n    },\\r\\n    isToBottom : function(){\\r\\n      return  this.$contain.height() + this.$contain.scrollTop() +30  >= this.$container.height()\\r\\n    },\\r\\n    renderData:function(data){\\r\\n        //console.log(data)\\r\\n        data.subjects.forEach(function(movie){\\r\\n              var tpl = `<div class=\\\"item\\\">\\r\\n                      <a href=\\\"#\\\">\\r\\n                          <div class=\\\"cover\\\">\\r\\n                              <img src=\\\"http://img7.doubanio.com/view/photo/s_ratio_poster/public/p1910813120.jpg\\\" alt=\\\"\\\">\\r\\n                          </div>\\r\\n                          <div class=\\\"detail\\\">\\r\\n                              <h2>霸王别姬</h2>\\r\\n                              <div class=\\\"extra\\\"><span class=\\\"score\\\"></span><span>分</span> / <span class=\\\"collect\\\">1000</span><span>收藏</span></div>\\r\\n                              <div class=\\\"extra\\\"><span class=\\\"year\\\"></span> / <span class=\\\"genres\\\"></span></div>\\r\\n                              <div class=\\\"extra\\\">导演:<span class=\\\"director\\\"></span></div>\\r\\n                              <div class=\\\"extra\\\">主演: <span class=\\\"casts\\\"></span></div>\\r\\n                            </div>\\r\\n                      </a>\\r\\n                  </div>`\\r\\n              var $node = $(tpl)\\r\\n              $node.find('.cover img').attr('src',movie.images.medium)\\r\\n              $node.find('.itme>a').attr('href',movie.alt)\\r\\n              $node.find('.detail>h2').text(movie.title)\\r\\n              $node.find('.score').text(movie.rating.average)\\r\\n              $node.find('.collect').text(movie.collect_count)\\r\\n              $node.find('.director').text(movie.directors.map(v=>v.name).join('/'))\\r\\n              $node.find('.casts').text(movie.casts.map(v=>v.name).join('、'))\\r\\n              $node.find('.year').text(movie.year)\\r\\n              $node.find('.genres').text(movie.genres.join('、'))\\r\\n              //console.log(movie.genres)\\r\\n              $('#search .container').append($node)\\r\\n          })\\r\\n         \\r\\n    }\\r\\n}\\r\\nmodule.exports = Search\"]}","code":"!function(n){var t={};function i(a){if(t[a])return t[a].exports;var e=t[a]={i:a,l:!1,exports:{}};return n[a].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=n,i.c=t,i.d=function(n,t,a){i.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:a})},i.r=function(n){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(n,\"__esModule\",{value:!0})},i.t=function(n,t){if(1&t&&(n=i(n)),8&t)return n;if(4&t&&\"object\"==typeof n&&n&&n.__esModule)return n;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:n}),2&t&&\"string\"!=typeof n)for(var e in n)i.d(a,e,function(t){return n[t]}.bind(null,e));return a},i.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(t,\"a\",t),t},i.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},i.p=\"\",i(i.s=0)}([function(n,t,i){var a=i(1),e=i(2),s=i(3),o=i(4);(function(){a.init(),e.init(),s.init(),o.init()})()},function(n,t,i){(function(t){var i={init:function(){this.$tabs=t(\"footer>div\"),this.$pages=t(\"main>section\"),this.bind(),t(\".loading\").show()},bind:function(){var n=this;this.$tabs.on(\"click\",function(){var i=t(this),a=i.index();i.addClass(\"active\").siblings().removeClass(\"active\"),n.$pages.eq(a).fadeIn().siblings().fadeOut()})}};n.exports=i}).call(this,i(!function(){var n=new Error(\"Cannot find module 'jquery'\");throw n.code=\"MODULE_NOT_FOUND\",n}()))},function(n,t,i){(function(t){var i={startNum:0,count:10,isloading:!1,isfinished:!1,init:function(){this.$contain=t(\"#top250\"),this.$container=this.$contain.find(\".container\"),this.bind(),this.getData(this.renderData)},bind:function(){var n=this;this.$contain.on(\"scroll\",function(){n.clock&&clearTimeout(n.clock),n.clock=setTimeout(function(){n.isToBottom()&&!n.isfinished&&n.getData(function(t){n.renderData(t),n.startNum*n.count>=t.total&&(n.isfinished=!0,n.$contain.find(\".nomore\").show())})},100)})},getData:function(n){var i=this;i.isloading||(i.isloading=!0,t(\".loading\").show(),t.ajax({type:\"GET\",url:\"https://api.douban.com/v2/movie/top250\",data:{start:i.startNum*i.count,count:i.count},dataType:\"jsonp\"}).done(function(t){n(t),i.startNum++}).always(function(){t(\".loading\").hide(),i.isloading=!1}))},isToBottom:function(){return this.$contain.height()+this.$contain.scrollTop()+30>=this.$container.height()},renderData:function(n){n.subjects.forEach(function(n){var i=t('<div class=\"item\">\\n            <a href=\"#\">\\n              <div class=\"cover\">\\n                <img src=\"http://img7.doubanio.com/view/photo/s_ratio_poster/public/p1910813120.jpg\" alt=\"\">\\n              </div>\\n              <div class=\"detail\">\\n                <h2>霸王别姬</h2>\\n                <div class=\"extra\"><span class=\"score\"></span><span>分</span> / <span class=\"collect\">1000</span><span>收藏</span></div>\\n                <div class=\"extra\"><span class=\"year\"></span> / <span class=\"genres\"></span></div>\\n                <div class=\"extra\">导演:<span class=\"director\"></span></div>\\n                <div class=\"extra\">主演: <span class=\"casts\"></span></div>\\n              </div>\\n            </a>\\n          </div>');i.find(\".cover img\").attr(\"src\",n.images.medium),i.find(\".itme>a\").attr(\"href\",n.alt),i.find(\".detail>h2\").text(n.title),i.find(\".score\").text(n.rating.average),i.find(\".collect\").text(n.collect_count),i.find(\".director\").text(n.directors.map(n=>n.name).join(\"/\")),i.find(\".casts\").text(n.casts.map(n=>n.name).join(\"、\")),i.find(\".year\").text(n.year),i.find(\".genres\").text(n.genres.join(\"、\")),t(\"#top250 .container\").append(i)})}};n.exports=i}).call(this,i(!function(){var n=new Error(\"Cannot find module 'jquery'\");throw n.code=\"MODULE_NOT_FOUND\",n}()))},function(n,t,i){(function(t){var i={init:function(){this.getData(this.renderData)},getData:function(n){t.ajax({type:\"GET\",url:\"https://api.douban.com/v2/movie/us_box\",dataType:\"jsonp\"}).done(function(t){n(t)}).fail(function(){console.log(\"err\")}).always(function(){})},renderData:function(n){n.subjects.forEach(function(n){var i=n.subject,a=t('<div class=\"item\">\\n            <a href=\"#\">\\n              <div class=\"cover\">\\n                <img src=\"http://img7.doubanio.com/view/photo/s_ratio_poster/public/p1910813120.jpg\" alt=\"\">\\n              </div>\\n              <div class=\"detail\">\\n                <h2>霸王别姬</h2>\\n                <div class=\"extra\"><span class=\"score\"></span><span>分</span> / <span class=\"collect\">1000</span><span>收藏</span></div>\\n                <div class=\"extra\"><span class=\"year\"></span> / <span class=\"genres\"></span></div>\\n                <div class=\"extra\">导演:<span class=\"director\"></span></div>\\n                <div class=\"extra\">主演: <span class=\"casts\"></span></div>\\n              </div>\\n            </a>\\n          </div>');a.find(\".cover img\").attr(\"src\",i.images.medium),a.find(\".itme>a\").attr(\"href\",i.alt),a.find(\".detail>h2\").text(i.title),a.find(\".score\").text(i.rating.average),a.find(\".collect\").text(i.collect_count),a.find(\".director\").text(i.directors.map(n=>n.name).join(\"/\")),a.find(\".casts\").text(i.casts.map(n=>n.name).join(\"、\")),a.find(\".year\").text(i.year),a.find(\".genres\").text(i.genres.join(\"、\")),t(\"#beimei div.container\").append(a)})}};n.exports=i}).call(this,i(!function(){var n=new Error(\"Cannot find module 'jquery'\");throw n.code=\"MODULE_NOT_FOUND\",n}()))},function(n,t,i){(function(t){var i={startNum:0,count:10,isloading:!1,isfinished:!1,init:function(){this.$contain=t(\"#search\"),this.$container=this.$contain.find(\".container\"),this.bind()},bind:function(){var n=this;n.$contain.find(\"input\").on(\"keyup\",function(i){n.keyword=t(this).val(),\"Enter\"===i.key&&(n.$container.text(\"\"),n.getData(function(t){n.renderData(t)}))}),n.$contain.find(\".button\").on(\"click\",function(){n.$container.text(\"\"),n.getData(function(t){n.renderData(t)})}),this.$contain.on(\"scroll\",function(){n.clock&&clearTimeout(n.clock),n.clock=setTimeout(function(){n.isToBottom()&&!n.isfinished&&n.getData(function(t){n.renderData(t),n.startNum*n.count>=t.total&&(n.isfinished=!0,n.$contain.find(\".nomore\").show())})},100)})},getData:function(n){var i=this,a=i.$contain.find(\"input\").val();i.isloading||(i.isloading=!0,t(\".loading\").show(),t.ajax({type:\"GET\",url:\"https://api.douban.com/v2/movie/search\",data:{start:i.startNum*i.count,count:i.count,q:a},dataType:\"jsonp\"}).done(function(t){n(t),i.startNum++}).always(function(){t(\".loading\").hide(),i.isloading=!1}))},isToBottom:function(){return this.$contain.height()+this.$contain.scrollTop()+30>=this.$container.height()},renderData:function(n){n.subjects.forEach(function(n){var i=t('<div class=\"item\">\\n                      <a href=\"#\">\\n                          <div class=\"cover\">\\n                              <img src=\"http://img7.doubanio.com/view/photo/s_ratio_poster/public/p1910813120.jpg\" alt=\"\">\\n                          </div>\\n                          <div class=\"detail\">\\n                              <h2>霸王别姬</h2>\\n                              <div class=\"extra\"><span class=\"score\"></span><span>分</span> / <span class=\"collect\">1000</span><span>收藏</span></div>\\n                              <div class=\"extra\"><span class=\"year\"></span> / <span class=\"genres\"></span></div>\\n                              <div class=\"extra\">导演:<span class=\"director\"></span></div>\\n                              <div class=\"extra\">主演: <span class=\"casts\"></span></div>\\n                            </div>\\n                      </a>\\n                  </div>');i.find(\".cover img\").attr(\"src\",n.images.medium),i.find(\".itme>a\").attr(\"href\",n.alt),i.find(\".detail>h2\").text(n.title),i.find(\".score\").text(n.rating.average),i.find(\".collect\").text(n.collect_count),i.find(\".director\").text(n.directors.map(n=>n.name).join(\"/\")),i.find(\".casts\").text(n.casts.map(n=>n.name).join(\"、\")),i.find(\".year\").text(n.year),i.find(\".genres\").text(n.genres.join(\"、\")),t(\"#search .container\").append(i)})}};n.exports=i}).call(this,i(!function(){var n=new Error(\"Cannot find module 'jquery'\");throw n.code=\"MODULE_NOT_FOUND\",n}()))}]);","extractedComments":[]}